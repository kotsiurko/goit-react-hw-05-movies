"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[806],{3291:function(e,t,n){n.d(t,{Z:function(){return g}});var r,i,a,c=n(1087),o=n(7689),s=n(168),u=n(6444),h=u.ZP.div(r||(r=(0,s.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  gap: 42px;\n"]))),f=u.ZP.div(i||(i=(0,s.Z)(["\n  border: 1px solid black;\n  border-radius: 4px;\n\n  > a {\n    text-decoration: none;\n  }\n"]))),v=u.ZP.h3(a||(a=(0,s.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n  font-size: 14px;\n"]))),d=n(1221),p=n(184),l=new d.J,g=function(e){var t=e.movies,n=(0,o.TH)();return(0,p.jsx)(h,{children:t.map((function(e){var t=e.poster_path,r=e.id,i=e.title;return(0,p.jsx)(f,{children:(0,p.jsxs)(c.rU,{to:"/movies/".concat(r),state:{from:n},children:[(0,p.jsx)("img",{src:l.getImgSrc(t),alt:""}),(0,p.jsx)(v,{children:i})]})},r)}))})}},3806:function(e,t,n){n.r(t);var r=n(9439),i=n(3291),a=n(1221),c=n(2791),o=n(7596),s=n(184),u=new a.J;t.default=function(){var e=(0,c.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,c.useEffect)((function(){u.fetchTrendMovies().then((function(e){var t=e.data;a(t.results)})).catch((function(e){o.Am.error("Something went wrong! ".concat(e,". Try again later."),{position:o.Am.POSITION.TOP_CENTER})}))}),[]),(0,s.jsx)("main",{children:(0,s.jsx)(i.Z,{movies:n})})}},1221:function(e,t,n){n.d(t,{J:function(){return h}});var r=n(5671),i=n(3144),a=n(6274),c=n(9359),o=n(3263),s=(0,c.Z)("BASE_URL"),u=(0,c.Z)("API_KEY"),h=function(){function e(){(0,r.Z)(this,e),Object.defineProperty(this,s,{writable:!0,value:"https://api.themoviedb.org/3"}),Object.defineProperty(this,u,{writable:!0,value:"b04a034fc18f8d6bb9fee9f009f99d0d"})}return(0,i.Z)(e,[{key:"fetchTrendMovies",value:function(){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/trending/movie/week?api_key=").concat((0,a.Z)(this,u)[u]))}},{key:"fetchSearch",value:function(e){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/search/movie?api_key=").concat((0,a.Z)(this,u)[u],"&query=").concat(e))}},{key:"fetchMovieById",value:function(e){var t=this;return o.Z.get("".concat((0,a.Z)(this,s)[s],"/movie/").concat(e,"?api_key=").concat((0,a.Z)(this,u)[u])).then((function(e){var n=e.data,r=n.backdrop_path,i=n.title,a=n.release_date,c=n.vote_average,o=n.overview,s=n.genres;return{backdrop_path:r,title:i,release_date:a.substring(0,4),vote_average:c,overview:o,genres:t.getGenres(s)}}))}},{key:"fetchCast",value:function(e){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/movie/").concat(e,"/credits?api_key=").concat((0,a.Z)(this,u)[u]))}},{key:"fetchReviews",value:function(e){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/movie/").concat(e,"/reviews?api_key=").concat((0,a.Z)(this,u)[u]))}},{key:"getImgSrc",value:function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):"https://raw.githubusercontent.com/kotsiurko/filmoteka/dev/src/images/default-photo.jpeg"}},{key:"getGenres",value:function(e){return e.reduce((function(e,t){return e+", "+t.name}),"").substr(2)}}]),e}()}}]);
//# sourceMappingURL=806.232c5ead.chunk.js.map