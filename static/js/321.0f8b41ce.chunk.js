"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[321],{3291:function(e,t,n){n.d(t,{Z:function(){return g}});var r,i,a,c=n(1087),o=n(7689),s=n(168),u=n(6444),p=u.ZP.div(r||(r=(0,s.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  gap: 42px;\n"]))),d=u.ZP.div(i||(i=(0,s.Z)(["\n  border: 1px solid black;\n  border-radius: 4px;\n\n  > a {\n    text-decoration: none;\n  }\n"]))),f=u.ZP.h3(a||(a=(0,s.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n  font-size: 14px;\n"]))),h=n(1221),v=n(184),l=new h.J,g=function(e){var t=e.movies,n=(0,o.TH)();return(0,v.jsx)(p,{children:t.map((function(e){var t=e.poster_path,r=e.id,i=e.title;return(0,v.jsx)(d,{children:(0,v.jsxs)(c.rU,{to:"/movies/".concat(r),state:{from:n},children:[(0,v.jsx)("img",{src:l.getImgSrc(t),alt:""}),(0,v.jsx)(f,{children:i})]})},r)}))})}},5321:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r,i,a,c=n(9439),o=n(1087),s=n(1221),u=n(2791),p=n(3291),d=n(7596),f=(n(5462),n(168)),h=n(6444),v=h.ZP.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n"]))),l=h.ZP.input(i||(i=(0,f.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n"]))),g=h.ZP.button(a||(a=(0,f.Z)(["\n  margin-left: 8px;\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-transform: uppercase;\n"]))),m=n(184),Z=new s.J,x=function(){var e=(0,u.useState)([]),t=(0,c.Z)(e,2),n=t[0],r=t[1],i=(0,o.lr)(),a=(0,c.Z)(i,2),s=a[0],f=a[1];return(0,u.useEffect)((function(){var e=s.get("query");e&&Z.fetchSearch(e).then((function(e){var t=e.data;r(t.results)}))}),[s]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v,{children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value;""!==t?f({query:t}):d.Am.warn("Please, enter correct query!",{position:d.Am.POSITION.TOP_CENTER})},children:[(0,m.jsx)(l,{placeholder:"Search..."}),(0,m.jsx)(g,{type:"submit",children:"Search"})]})}),n.length>0&&(0,m.jsx)(p.Z,{movies:n}),(0,m.jsx)(d.Ix,{})]})}},1221:function(e,t,n){n.d(t,{J:function(){return p}});var r=n(5671),i=n(3144),a=n(6274),c=n(9359),o=n(3263),s=(0,c.Z)("BASE_URL"),u=(0,c.Z)("API_KEY"),p=function(){function e(){(0,r.Z)(this,e),Object.defineProperty(this,s,{writable:!0,value:"https://api.themoviedb.org/3"}),Object.defineProperty(this,u,{writable:!0,value:"b04a034fc18f8d6bb9fee9f009f99d0d"})}return(0,i.Z)(e,[{key:"fetchTrendMovies",value:function(){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/trending/movie/week?api_key=").concat((0,a.Z)(this,u)[u]))}},{key:"fetchSearch",value:function(e){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/search/movie?api_key=").concat((0,a.Z)(this,u)[u],"&query=").concat(e))}},{key:"fetchMovieById",value:function(e){var t=this;return o.Z.get("".concat((0,a.Z)(this,s)[s],"/movie/").concat(e,"?api_key=").concat((0,a.Z)(this,u)[u])).then((function(e){var n=e.data,r=n.backdrop_path,i=n.title,a=n.release_date,c=n.vote_average,o=n.overview,s=n.genres;return{backdrop_path:r,title:i,release_date:a.substring(0,4),vote_average:c,overview:o,genres:t.getGenres(s)}}))}},{key:"fetchCast",value:function(e){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/movie/").concat(e,"/credits?api_key=").concat((0,a.Z)(this,u)[u]))}},{key:"fetchReviews",value:function(e){return o.Z.get("".concat((0,a.Z)(this,s)[s],"/movie/").concat(e,"/reviews?api_key=").concat((0,a.Z)(this,u)[u]))}},{key:"getImgSrc",value:function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):"https://raw.githubusercontent.com/kotsiurko/filmoteka/dev/src/images/default-photo.jpeg"}},{key:"getGenres",value:function(e){return e.reduce((function(e,t){return e+", "+t.name}),"").substr(2)}}]),e}()}}]);
//# sourceMappingURL=321.0f8b41ce.chunk.js.map